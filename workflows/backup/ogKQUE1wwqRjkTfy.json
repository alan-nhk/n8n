{
  "active": true,
  "connections": {
    "Daily 06:00 Cron": {
      "main": [
        [
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Flux-Kontext-Max": {
      "main": [
        [
          {
            "node": "Download Max Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Flux-Kontext-Pro": {
      "main": [
        [
          {
            "node": "Download Pro Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Image from notion": {
      "main": [
        [
          {
            "node": "æå¯«åŸåœ–ç‰‡å¥³æ€§",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Max Image": {
      "main": [
        [
          {
            "node": "åˆä½µå…©å€‹åœ–ç‰‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Pro Image": {
      "main": [
        [
          {
            "node": "åˆä½µå…©å€‹åœ–ç‰‡",
            "type": "main",
            "index": 1
          },
          {
            "node": "ç”Ÿæˆåœ–ç‰‡å¯«æˆæ–‡æ¡ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "æ‹¿å–notionæ‰€æœ‰è³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆä½µåœ–ç‰‡æª”æ¡ˆ": {
      "main": [
        [
          {
            "node": "ç™¼é€æ–‡æ¡ˆå’Œåœ–ç‰‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ‹¿å–notionè³‡æ–™": {
      "main": [
        [
          {
            "node": "Download Image from notion",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æå¯«åŸåœ–ç‰‡å¥³æ€§": {
      "main": [
        [
          {
            "node": "ç”Ÿæˆåœ–ç‰‡prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åˆä½µå…©å€‹åœ–ç‰‡": {
      "main": [
        [
          {
            "node": "åˆä½µåœ–ç‰‡æª”æ¡ˆ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆåœ–ç‰‡å¯«æˆæ–‡æ¡ˆ": {
      "main": [
        [
          {
            "node": "åˆä½µå…©å€‹åœ–ç‰‡",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "æ‹¿å–åŸåœ–ç‰‡": {
      "main": [
        [
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "é€šçŸ¥è£œè²¨",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "æ‹¿å–åŸåœ–ç‰‡",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç™¼é€æ–‡æ¡ˆå’Œåœ–ç‰‡": {
      "main": [
        [
          {
            "node": "Update a database page",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç”Ÿæˆåœ–ç‰‡prompt": {
      "main": [
        [
          {
            "node": "Flux-Kontext-Max",
            "type": "main",
            "index": 0
          },
          {
            "node": "Flux-Kontext-Pro",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æ‹¿å–notionæ‰€æœ‰è³‡æ–™": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "æ‹¿å–notionè³‡æ–™",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-30T23:46:02.350Z",
  "id": "ogKQUE1wwqRjkTfy",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "flux for rednote",
  "nodes": [
    {
      "parameters": {
        "triggerTimes": {
          "item": [
            {
              "hour": 6
            }
          ]
        }
      },
      "name": "Daily 06:00 Cron",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [
        -2912,
        -384
      ],
      "id": "d834e227-7f1f-41bb-a2fc-10e155a73774"
    },
    {
      "parameters": {
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "requestMethod": "POST",
        "url": " https://api.replicate.com/v1/models/black-forest-labs/flux-kontext-max/predictions",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "={{\n  {\n    \"input\": {\n      \"prompt\": $json.message.content,\n      \"input_image\": \"https://alanmaytax.netlify.app/modelpic.jpg\",\n      \"aspect_ratio\": \"4:5\",\n      \"output_format\": \"jpg\",\n      \"safety_tolerance\": 2,\n      \"prompt_upsampling\": false\n    }\n  }\n}}"
      },
      "name": "Flux-Kontext-Max",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        -96,
        -432
      ],
      "id": "15a35106-22b7-4deb-ac89-69615a1e7215",
      "credentials": {
        "fluxApi": {
          "id": null,
          "name": "Flux-Pro API"
        },
        "httpBearerAuth": {
          "id": "NGJ6hTyVzDAD5T8s",
          "name": "replicate.com"
        }
      }
    },
    {
      "parameters": {
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBearerAuth",
        "requestMethod": "POST",
        "url": "https://api.replicate.com/v1/models/black-forest-labs/flux-kontext-pro/predictions",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "={{\n  {\n    \"input\": {\n      \"prompt\": $json.message.content,\n      \"input_image\": \"https://alanmaytax.netlify.app/modelpic.jpg\",\n      \"aspect_ratio\": \"4:5\",\n      \"output_format\": \"jpg\",\n      \"safety_tolerance\": 2,\n      \"prompt_upsampling\": false\n    }\n  }\n}}"
      },
      "name": "Flux-Kontext-Pro",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        -320,
        -192
      ],
      "id": "4b1a5756-cefa-4034-a6b6-e1f6c707d12c",
      "credentials": {
        "httpBearerAuth": {
          "id": "NGJ6hTyVzDAD5T8s",
          "name": "replicate.com"
        }
      }
    },
    {
      "parameters": {
        "url": "={{ $json.imageUrl }}",
        "responseFormat": "file",
        "options": {}
      },
      "name": "Download Image from notion",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        -1120,
        -288
      ],
      "id": "71e74a42-1b82-490e-b7f1-9fbf8f8440cc"
    },
    {
      "parameters": {
        "url": "={{ $json.urls.stream }}",
        "responseFormat": "file",
        "options": {}
      },
      "name": "Download Max Image",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        128,
        -432
      ],
      "id": "1337d89f-fc13-4bd1-b61f-ff7f72d3c49d"
    },
    {
      "parameters": {
        "url": "={{ $json.urls.stream }}",
        "responseFormat": "file",
        "options": {}
      },
      "name": "Download Pro Image",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        -96,
        -192
      ],
      "id": "6f4deec0-cd18-4b08-ae2e-fc31b9119780"
    },
    {
      "parameters": {
        "operation": "formatDate",
        "date": "={{ $today }}",
        "format": "custom",
        "customFormat": "yyyy-MMM-dd",
        "options": {}
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        -2688,
        -384
      ],
      "id": "3bcd86fc-f304-48f0-979b-27dfd7aeefae",
      "name": "Date & Time"
    },
    {
      "parameters": {
        "jsCode": "// items[0] å’Œ items[1] å„è‡ªæœ‰ .binary.data\nconst first = items[0].binary.data;\nconst second = items[1].binary.data;\n\nreturn [\n  {\n    json: {\n      // é€™é‚Šå¯ä»¥æ”¾æ–‡å­—å…§å®¹ï¼Œä¾‹å¦‚ï¼š\n      // subject: \"ä»Šæ—¥åœ–ç‰‡\"\n    },\n    binary: {\n      // å®šç¾©å…©å€‹æ–°çš„ binary æ¬„ä½åç¨±ï¼Œå¾ŒçºŒ Gmail ç¯€é»æœƒç”¨åˆ°\n      maxImage: first,\n      proImage: second,\n    },\n  },\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        576,
        -288
      ],
      "id": "5e8805d0-5397-4fa2-b480-2a5cb38865c8",
      "name": "åˆä½µåœ–ç‰‡æª”æ¡ˆ"
    },
    {
      "parameters": {
        "jsCode": "// é¸æ“‡ã€ŒRun Once for All Itemsã€\nreturn items.map(item => {\n  const props = item.json.properties;\n\n  // 2. æŠ“ Files & media çš„ç¬¬ä¸€å¼µåœ– URL\n  const files = props['Files & media']?.files || [];\n  const imageUrl = files[0]?.file?.url || null;\n\n  // 4. æ­£ç¢ºå–å‡º Titleï¼ˆrich_textï¼‰\n  const richTextArr = props['Title']?.rich_text || [];\n  const title = richTextArr\n    .map(rt => rt.text?.content || '')\n    .join('')\n    .trim() || null;\n\n  return {\n    json: {\n      notionRowId: item.json.id,\n      imageUrl,\n      title,\n    },\n  };\n});\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1344,
        -288
      ],
      "id": "bcb1a0ac-b0fb-4b44-9954-94f1769a1f32",
      "name": "æ‹¿å–notionè³‡æ–™"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "text": "First, analyze the woman in the image. Then write a descriptive passage in the style of British literature, focusing on:  \n1. **Facial features** â€“ eyes, brows, nose, lips, cheekbones, complexion, expression.  \n2. **Clothing** â€“ cut, fabric, color, how it drapes or frames her form.  \n3. **Overall appearance and figure** â€“ posture, silhouette, proportions, and the way light and shadow play across her physique.  \n\nUse elegant, evocative prose with subtle metaphors and a refined, atmospheric tone reminiscent of classic British writers.",
        "inputType": "base64",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        -896,
        -288
      ],
      "id": "b8d6df51-bfab-4085-9493-9bedb66a06e4",
      "name": "æå¯«åŸåœ–ç‰‡å¥³æ€§",
      "credentials": {
        "openAiApi": {
          "id": "lpZtEwM8LrAmMiBX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        352,
        -304
      ],
      "id": "c0742fad-2e0e-42e1-8d1d-5668e95a856b",
      "name": "åˆä½µå…©å€‹åœ–ç‰‡"
    },
    {
      "parameters": {
        "resource": "image",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "chatgpt-4o-latest",
          "mode": "list",
          "cachedResultName": "CHATGPT-4O-LATEST"
        },
        "text": "=è¯·æ‰®æ¼”ä¸€ä½å›¾åƒåˆ†æä¸æ•…äº‹åˆ›ä½œä¸“å®¶ï¼Œå¹¶ä¸¥æ ¼éµå®ˆå°çº¢ä¹¦ç¤¾åŒºè§„èŒƒã€‚é€è¿‡æˆ‘ä¸Šä¼ çš„ä¸€å¼ åˆç…§ï¼Œå›¾ä¸­ç”·æ€§æ˜¯æˆ‘â€”â€”ä¸€åé¦™æ¸¯ä¿é™©ä»£ç†äººï¼Œå¥³æ€§æ˜¯æˆ‘çš„å®¢æˆ·ã€‚è¯·å…ˆä»”ç»†åˆ†æå›¾ç‰‡ä¸­å¥³æ€§çš„å¤–è²Œã€ç¥æƒ…ã€å§¿æ€åŠç¯å¢ƒç»†èŠ‚ï¼Œç„¶åä»¥ç®€ä½“ä¸­æ–‡ï¼Œç¬¦åˆå°çº¢ä¹¦å‘å¸ƒé£æ ¼ï¼ŒæŒ‰ç…§ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼š\n\n1. ã€æ ‡é¢˜ã€‘  \n   - å¿…é ˆå¸ç›ï¼Œè¦æœ‰å¸ç›æ¨™é¡Œï¼Œå‹¾èµ·è¯»è€…å¥½å¥‡å¿ƒï¼Œå¯ä»¥ç”¨ä¸€äº›ç ´æ ¼çš„æ–‡å­—æˆ–è€…é—®é¢˜ï¼Œæ¨™é¡Œè¦å®šåœ¨20å­—å…§ï¼Œå¯ä»¥å¸å¼•å°ç´…æ›¸çš„è®€è€…é»é€²å»é–±è®€ï¼Œæ¨™é¡Œæ˜¯æœ€é‡è¦çš„ç’°ç¯€ï¼Œå…·æœ‰å¸å¼•åŠ›å¹¶æ¿€å‘å¥½å¥‡å¿ƒã€‚\n\n2. ã€æ­£æ–‡ã€‘  \n   - 300-500å­—ï¼Œç”¨ä¸­æ–‡ç®€ä½“å­—ï¼Œæ¯æ®µæ–‡å­—è¦éš”è¡Œ\n   - æ•…äº‹è¦å–å…³å­ï¼Œå¯ä»¥å¸å¼•è¯»è€…ï¼Œå¼•èµ·è¯»è€…å…±é¸£ï¼Œæœ‰æ–‡å­¦å‘³é“\n   - åˆ†æ®µæè¿°ï¼Œæ¯ä¸€æ®µä¹‹é—´å¯ä»¥éš”ä¸€è¡Œï¼Œæ¯æ®µå¼€å¤´ä½¿ç”¨ emojiï¼ˆå¦‚âœ¨ã€ğŸ’¼ã€ğŸ“ã€ğŸ”ç­‰ï¼‰ã€‚  \n   - å†…å®¹èšç„¦è¿™ä½å¥³æ€§å¦‚ä½•é€šè¿‡é¦™æ¸¯ä¿é™©äº§å“è¿›è¡Œè´¢å¯Œé…ç½®ä¸è´¢å¯Œç®¡ç†ï¼Œä»¥åŠå¥¹èƒŒåçš„åŠ¨æœºä¸åŸå› \n   - æ¯æ®µä¹‹é—´è¦éš”ä¸€è¡Œ\n   - é¦™æ¸¯ä¿é™©çš„ç‰¹æ€§ä¹Ÿå¯ä»¥ç®€æ˜“æè¿°\n   - ç”¨ç®€ä½“ä¸­æ–‡ï¼Œç”¨ä¸€äº›å†…åœ°æ½®è¯­ï¼Œå¥—ç”¨ä¸€äº›ä½œå®¶çš„å†™ä½œæ‰‹æ³•\n   - è¯­è¨€ç”ŸåŠ¨ï¼Œå¼•å‘è¯»è€…å…±é¸£ä¸å¥½å¥‡ã€‚\n\n3. ã€å›¾ç‰‡è¯´æ˜ã€‘  \n   - å…ˆéš”ä¸€è¡Œï¼Œç„¶ååœ¨æ ‡ç­¾ä¹‹å‰å†™ï¼š  \n     ğŸ“· å›¾ç‰‡åŠå†…å®¹ç»å®¢æˆ·æœ¬äººåŒæ„ååˆ†äº«\n\n4. ã€è¯é¢˜æ ‡ç­¾ã€‘  \n   - åœ¨æ–‡ç« éš”ä¸€è¡Œï¼Œç„¶åæœ«å°¾æ·»åŠ 5-8ä¸ªå°çº¢ä¹¦æµè¡Œæ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š  \n     #é¦™æ¸¯ä¿é™© #è´¢å¯Œç®¡ç† #ç†è´¢å¿ƒå¾— #å®¢æˆ·æ•…äº‹ #é£é™©è§„åˆ’\n\n\né€™ä½å¥³æ€§å®¢æˆ¶æ˜¯{{ $('æ‹¿å–notionè³‡æ–™').item.json.title }}",
        "inputType": "base64",
        "options": {
          "maxTokens": 1000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        128,
        -128
      ],
      "id": "c6ec5fcc-09aa-4c77-88dc-c7943a09a1bd",
      "name": "ç”Ÿæˆåœ–ç‰‡å¯«æˆæ–‡æ¡ˆ",
      "credentials": {
        "openAiApi": {
          "id": "lpZtEwM8LrAmMiBX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "update",
        "pageId": {
          "__rl": true,
          "value": "={{ $items(\"æ‹¿å–notionè³‡æ–™\")[0].json.notionRowId }}\n",
          "mode": "id"
        },
        "propertiesUi": {
          "propertyValues": [
            {
              "key": "date|title",
              "title": "={{ $now.format('yyyy-LLL-dd hh:mm a') }}"
            },
            {
              "key": "status|status",
              "statusValue": "Done"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        1024,
        -288
      ],
      "id": "582b0156-d46a-4a37-9223-77d18f5642d1",
      "name": "Update a database page",
      "credentials": {
        "notionApi": {
          "id": "Aa0gVpoC9SkGa2QY",
          "name": "Notion account"
        }
      }
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "23ffc631-b837-8047-ae9d-e9aa38927aa3",
          "mode": "list",
          "cachedResultName": "raw pictures for generate",
          "cachedResultUrl": "https://www.notion.so/23ffc631b8378047ae9de9aa38927aa3"
        },
        "limit": 1,
        "simple": false,
        "filterType": "manual",
        "matchType": "allFilters",
        "filters": {
          "conditions": [
            {
              "key": "status|status",
              "condition": "equals",
              "statusValue": "Not started"
            }
          ]
        },
        "options": {}
      },
      "name": "æ‹¿å–åŸåœ–ç‰‡",
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2,
      "position": [
        -1792,
        -288
      ],
      "id": "395c2436-a88f-4dbb-aa58-00c86e696702",
      "credentials": {
        "notionApi": {
          "id": "Aa0gVpoC9SkGa2QY",
          "name": "Notion account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c25838a6-8cbc-4bfd-8ecc-94d1d93886b7",
              "leftValue": "={{ $items('Filter').length }}",
              "rightValue": 3,
              "operator": {
                "type": "number",
                "operation": "lt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -2016,
        -384
      ],
      "id": "ddb870e8-46d9-436b-8fe3-7353cf945a7c",
      "name": "If"
    },
    {
      "parameters": {
        "sendTo": "alan.nhk@gmail.com",
        "subject": "=Notion åœ–ç‰‡åªæœ‰{{ $items('æ‹¿å–notionæ‰€æœ‰è³‡æ–™').length }}å€‹å‰©é¤˜",
        "message": "=<p>é»è§£é€£çµ</p>\n\n<p>https://www.notion.so/23ffc631b8378047ae9de9aa38927aa3?v=23ffc631b837802e9ffc000c94087536</p>\n\n<p>ç›®å‰åªå‰©ä¸‹{{ $items('æ‹¿å–notionæ‰€æœ‰è³‡æ–™').length }}å€‹é …ç›®</p>",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        -1792,
        -480
      ],
      "id": "b04b913b-0e07-49e8-9d54-45b3f8e3840f",
      "name": "é€šçŸ¥è£œè²¨",
      "webhookId": "009a43f2-01d9-4c4d-81c7-fd17cbea8967",
      "executeOnce": true,
      "credentials": {
        "gmailOAuth2": {
          "id": "gOIpIuvnrFdfA6lg",
          "name": "draccident gmail"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "alan.nhk@gmail.com",
        "subject": "={{ $now.format('yyyy-LLL-dd hh:mm a') }}\n\n{{ $('æ‹¿å–notionè³‡æ–™').first().json.title }}",
        "message": "={{\n  $items(\"ç”Ÿæˆåœ–ç‰‡å¯«æˆæ–‡æ¡ˆ\")[0]\n    .json.content\n    .replace(/\\n/g, '<br>')\n}}\n",
        "options": {
          "appendAttribution": false,
          "attachmentsUi": {
            "attachmentsBinary": [
              {
                "property": "maxImage"
              },
              {
                "property": "proImage"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        800,
        -288
      ],
      "id": "aa6703ab-3e31-4d7a-9be4-dfb0ffbcd6e2",
      "name": "ç™¼é€æ–‡æ¡ˆå’Œåœ–ç‰‡",
      "webhookId": "186e3618-5c1d-4be1-af51-03a3c1ab5e24",
      "credentials": {
        "gmailOAuth2": {
          "id": "gOIpIuvnrFdfA6lg",
          "name": "draccident gmail"
        }
      }
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "GPT-4O-MINI"
        },
        "messages": {
          "values": [
            {
              "content": "=You are a professional image-prompt generator. Based on the following â€œFemale Description,â€ produce a complete prompt for a high-end rendering model (e.g. Flux-Pro, Stable Diffusion, Midjourney) that MUST include all of these elements:\n\n1. Scene: Inside a top-tier Hong Kong office towerâ€”spacious, lavishly decorated, exuding prestige and elegance.  \n2. Props: A premium executive desk, on which sits:\n   - A 14-inch tablet computer  \n   - A neat stack of documents  \n   - A sleek digital stylus  \n3. Characters:\n   - A gentleman (must exactly match the provided reference image)  \n   - A lady (appearance varies per the **Female Description** below)  \n   - Both seated together behind the desk, in natural poses, either smiling or serious toward the camera.  \n4. Background: Floor-to-ceiling glass windows revealing a panoramic view of Victoria Harbour, with plenty of natural light.  \n5. Rendering Style: Hyper-realistic, ultra-detailed, soft cinematic lighting, with a touch of film grain.\n\n**Female Description**:{{ $json.content }}\n\n\n**Example Output**:  \nGenerate a photorealistic portrait of two people seated side-by-side at a sleek marble conference table in an ultra-luxury, airy office. Floor-to-ceiling windows reveal Victoria Harbour or the Hong Kong skyline.\nInvariants\n1. Male subject: exactly matches the reference image in expression, posture, and appearance.\n2. Tabletop: a 13-inch tablet (iPad-style) prominently displayedâ€”screen on, angled toward the cameraâ€”with neatly arranged business documents (printed reports, charts, notepad, pen).\n3. Environment: spacious, premium office with refined furnishings, abundant natural light, and strong depth.\nFemale subject (Edwardian-inspired elegance)â€¨â€“ Early-30s; slim, dignified poise.â€¨â€“ Long, straight chestnut hair gathered into a low ponytail at the nape, with delicate wisps curling to frame an oval face.â€¨â€“ Thin hairband adorned with small blossoms circling her crown.â€¨â€“ Almond-shaped eyes with subtle double eyelids and gently arched brows conveying quiet intelligence.â€¨â€“ Straight, well-proportioned nose; lips like a small cherryâ€”curved into a warm, measured smile or held in thoughtful repose.â€¨â€“ Posture upright yet relaxed: shoulders straight but never stiff, sometimes leaning lightly against a railing or resting chin on hand.â€¨â€“ Dress in a subtle floral-patterned fabric echoing the hairband motifâ€”soft tones, modest cut.â€¨â€“ Minimal accessories beyond the blossom hairbandâ€”no modern jewelry.\nMood & lightingâ€¨Soft, diffuse daylight floods the room, highlighting her porcelain complexion, floral accents, and the tablet and documents, while casting gentle shadows for depth. The scene conveys calm composure, reflective grace, and a timeless balance of tradition and modernity.\n\n**Negative Prompts** (to avoid hand/finger errors and other artifacts)",
              "role": "system"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "typeVersion": 1.8,
      "position": [
        -672,
        -288
      ],
      "id": "bbaafd17-e41d-4adc-bab8-197c13835a68",
      "name": "ç”Ÿæˆåœ–ç‰‡prompt",
      "credentials": {
        "openAiApi": {
          "id": "lpZtEwM8LrAmMiBX",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "23ffc631-b837-8047-ae9d-e9aa38927aa3",
          "mode": "list",
          "cachedResultName": "raw pictures for generate",
          "cachedResultUrl": "https://www.notion.so/23ffc631b8378047ae9de9aa38927aa3"
        },
        "limit": 100,
        "filterType": "manual",
        "filters": {
          "conditions": [
            {
              "key": "status|status",
              "condition": "equals",
              "statusValue": "Not started"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        -2464,
        -384
      ],
      "id": "f9d5b983-b675-410e-9d03-447c43679a4b",
      "name": "æ‹¿å–notionæ‰€æœ‰è³‡æ–™",
      "alwaysOutputData": false,
      "credentials": {
        "notionApi": {
          "id": "Aa0gVpoC9SkGa2QY",
          "name": "Notion account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "b48c218a-2d50-4fee-aad9-ffa0c5fc03cb",
              "leftValue": "={{ $json.property_title }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            },
            {
              "id": "c095916f-6fca-4b8f-a481-d629e57bddb4",
              "leftValue": "={{ $json.property_files_media[0] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -2240,
        -384
      ],
      "id": "0374e6fc-cbba-4c74-9391-55d25df19ac7",
      "name": "Filter"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        -1568,
        -288
      ],
      "id": "310aff3e-2aeb-4217-9f55-50dd5cd59513",
      "name": "Limit"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1",
    "timezone": "Asia/Hong_Kong",
    "callerPolicy": "workflowsFromSameOwner",
    "saveDataErrorExecution": "all",
    "saveDataSuccessExecution": "all",
    "saveExecutionProgress": true,
    "saveManualExecutions": true,
    "timeSavedPerExecution": 5,
    "errorWorkflow": "YbLJwEnBwTBfhDAw"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2025-08-07T10:39:41.587Z",
      "updatedAt": "2025-08-07T10:39:41.587Z",
      "id": "9xDOAby2UTJzZ8AH",
      "name": "backup"
    }
  ],
  "triggerCount": 1,
  "updatedAt": "2025-08-08T00:00:54.584Z",
  "versionId": "df0565bc-9e27-4868-aac4-81781241610a"
}